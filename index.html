<!DOCTYPE html>
<html>
<script src='https://d3js.org/d3.v5.min.js'></script>
<style> circle {fill: lightblue; stroke: black;} </style>
<body onload='init()'>
<svg width=300 height=300>
</svg>
<script>
async function init() {



data = await d3.csv("https://flunky.github.io/cars2017.csv");

xdomain = [10, 150];
xrange = [0, 200];
ydomain = [10, 150];
yrange = [200, 0];

xs = d3.scaleLog().domain(xdomain).range(xrange);
ys = d3.scaleLog().domain(ydomain).range(yrange);

d3.select("svg")
    .append("g")
        .attr("transform", "translate(50,50)")
        .selectAll("circle")
        .data(data)
        .enter()
        .append("circle")
            .attr("cx", function(d, i) { return xs(d.AverageCityMPG); })
            .attr("cy", function(d, i) { return ys(d.AverageHighwayMPG); })
            .attr("r",    function(d, i) { return 2 + parseInt(d.EngineCylinders); });

var y_axis = d3.axisLeft(ys)
        .tickValues([10, 20, 50, 100]); 

var x_axis = d3.axisBottom(xs)
        .tickValues([10, 20, 50, 100]); 

d3.select('svg')
     .append('g')
          .attr('transform', 'translate(50,50)')
          .call( y_axis);



}
</script>
</body>
<!-- 
</html>
<html>
     -->
<body>
<h1>Hello World</h1>
<p>I'm hosted with GitHub Pages.</p>
</body>
</html>